<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <!-- Affichage adapté aux smartphones en mode portrait -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Parle ou perd&nbsp;!</title>
  <!-- Feuille de style principale (sera créée dans css/style.css) -->
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!--
    Index HTML = squelette de l'application.
    Tout ce qui est logique de jeu, voix, UI et pubs sera géré dans les fichiers JS.
    Ici on prépare uniquement les "écrans" que ui.js affichera / masquera.
  -->

  <!-- ÉCRAN A : MENU PRINCIPAL -->
  <section id="screen-menu" class="screen">
    <header class="screen-header">
      <h1 class="game-title">Parle ou perd&nbsp;!</h1>
      <p class="game-tagline">
        Donne les bons ordres ou le jeu te fait taire.
      </p>
    </header>

    <main class="screen-content">
      <!-- Bouton principal pour lancer une partie -->
      <button id="btn-menu-play" class="btn btn-primary">JOUER</button>

      <!-- Boutons secondaires : options et aide -->
      <div class="menu-secondary-buttons">
        <button id="btn-menu-options" class="btn btn-secondary">OPTIONS</button>
        <button id="btn-menu-help" class="btn btn-secondary">AIDE</button>
      </div>
    </main>

    <!-- Record local affiché en bas du menu (mis à jour par ui.js) -->
    <footer class="screen-footer">
      <p class="menu-record">
        Record&nbsp;: <span id="menu-best-score">0</span> commande réussie
        <!-- ui.js gérera le pluriel "commandes réussies" selon la valeur -->
      </p>
    </footer>
  </section>

  <!-- ÉCRAN B : AIDE / COMMENT JOUER -->
  <section id="screen-help" class="screen" hidden>
    <header class="screen-header">
      <h2>Comment jouer&nbsp;?</h2>
    </header>

    <main class="screen-content">
      <!-- Texte explicatif court, conforme au concept -->
      <p>Ton personnage avance tout seul.</p>
      <p>
        Dis &laquo;&nbsp;Saute&nbsp;&raquo;, &laquo;&nbsp;Baisse&nbsp;&raquo;,
        &laquo;&nbsp;Gauche&nbsp;&raquo; ou &laquo;&nbsp;Droite&nbsp;&raquo;
        pour éviter les obstacles.
      </p>
      <p>
        Si le jeu ne te comprend pas ou si tu donnes le mauvais ordre,
        c&rsquo;est perdu.
      </p>
      <p>Parle clairement, proche du micro… et bonne chance&nbsp;!</p>
    </main>

    <footer class="screen-footer">
      <!-- Retour au menu -->
      <button id="btn-help-back" class="btn btn-secondary">RETOUR</button>
    </footer>
  </section>

  <!-- ÉCRAN C : OPTIONS -->
  <section id="screen-options" class="screen" hidden>
    <header class="screen-header">
      <h2>Options</h2>
    </header>

    <main class="screen-content">
      <!--
        Les contrôles ci-dessous sont des placeholders.
        La logique réelle (lecture / écriture des valeurs) sera gérée par config.js + ui.js.
      -->

      <!-- Volume général du jeu -->
      <div class="option-row">
        <label for="opt-volume">Volume</label>
        <input id="opt-volume" type="range" min="0" max="100" value="80" />
      </div>

      <!-- Sensibilité du micro (faible / moyenne / forte) -->
      <div class="option-row">
        <label for="opt-mic-sens">Sensibilité du micro</label>
        <select id="opt-mic-sens">
          <option value="low">Faible</option>
          <option value="medium" selected>Moyenne</option>
          <option value="high">Forte</option>
        </select>
      </div>

      <!-- Langue des commandes (V1 : français uniquement) -->
      <div class="option-row">
        <label for="opt-language">Langue des commandes</label>
        <select id="opt-language" disabled>
          <option value="fr" selected>Français</option>
        </select>
      </div>

      <!-- Vibrations ON/OFF -->
      <div class="option-row">
        <label for="opt-vibration">Vibrations</label>
        <input id="opt-vibration" type="checkbox" checked />
      </div>

      <!-- Réinitialisation du record local (confirmation côté JS plus tard) -->
      <div class="option-row">
        <button id="btn-reset-record" class="btn btn-warning">
          Réinitialiser le record local
        </button>
      </div>
    </main>

    <footer class="screen-footer">
      <button id="btn-options-back" class="btn btn-secondary">RETOUR</button>
    </footer>
  </section>

  <!-- ÉCRAN D : JEU + HUD -->
  <section id="screen-game" class="screen" hidden>
    <!-- Barre HUD en haut : score, record, série, état du micro -->
    <header id="hud-top" class="hud">
      <div class="hud-left">
        <span class="hud-label">Score&nbsp;:</span>
        <span id="hud-score" class="hud-value">0</span>
      </div>
      <div class="hud-center">
        <span class="hud-label">Record&nbsp;:</span>
        <span id="hud-best" class="hud-value">0</span>
      </div>
      <div class="hud-right">
        <span class="hud-label">Série&nbsp;:</span>
        <span id="hud-streak" class="hud-value">0</span>
      </div>
      <!-- Icône micro (vert/rouge) pilotée par voice.js + ui.js -->
      <div class="hud-mic">
        <span class="hud-label">Micro&nbsp;:</span>
        <span id="hud-mic-status" class="hud-mic-icon">●</span>
      </div>
    </header>

    <!-- Zone centrale de jeu : runner + obstacles (DOM ou canvas, au choix plus tard) -->
    <main class="game-layout">
      <!--
        game-area : conteneur principal pour le runner.
        On pourra y mettre soit un <canvas>, soit des <div> animées.
      -->
      <div id="game-area">
        <!-- Placeholder visuel minimum, remplacé plus tard par le vrai rendu du jeu -->
        <p class="game-placeholder">
          Zone de jeu (personnage + pistes + obstacles).
        </p>
      </div>
    </main>

    <!-- Barre du bas : rappel des commandes + dernière commande reconnue -->
    <footer id="hud-bottom" class="hud hud-bottom">
      <div class="hud-commands">
        <span class="hud-label">Commandes&nbsp;:</span>
        <span class="hud-command">SAUTE</span>
        <span class="hud-command">BAISSE</span>
        <span class="hud-command">GAUCHE</span>
        <span class="hud-command">DROITE</span>
      </div>
      <div class="hud-last-command">
        <span class="hud-label">Dernière commande&nbsp;:</span>
        <span id="hud-last-spoken" class="hud-value">–</span>
      </div>
    </footer>
  </section>

  <!-- ÉCRAN E : PAUSE -->
  <section id="screen-pause" class="screen" hidden>
    <header class="screen-header">
      <h2>Pause</h2>
    </header>

    <main class="screen-content">
      <p>Le jeu est en pause.</p>
    </main>

    <footer class="screen-footer">
      <!-- Reprendre la partie en cours -->
      <button id="btn-pause-resume" class="btn btn-primary">REPRENDRE</button>
      <!-- Relancer une nouvelle partie -->
      <button id="btn-pause-restart" class="btn btn-secondary">REJOUER</button>
      <!-- Retour au menu principal -->
      <button id="btn-pause-menu" class="btn btn-secondary">MENU</button>
    </footer>
  </section>

  <!-- ÉCRAN F : FIN DE PARTIE (GAME OVER) -->
  <section id="screen-gameover" class="screen" hidden>
    <header class="screen-header">
      <h2 id="gameover-title">Tu as perdu…</h2>
    </header>

    <main class="screen-content">
      <!-- Bloc stats de fin de partie -->
      <ul class="gameover-stats">
        <li>
          Score&nbsp;: <span id="gameover-score">0</span>
        </li>
        <li>
          <span id="gameover-record-label">Record&nbsp;:</span>
          <span id="gameover-best">0</span>
        </li>
        <li>
          Meilleure série&nbsp;:
          <span id="gameover-best-streak">0</span> obstacles d&rsquo;affilée
        </li>
        <li>
          Précision vocale&nbsp;:
          <span id="gameover-accuracy">0</span>&nbsp;%
        </li>
      </ul>

      <!-- Phrase de feedback dynamique selon le score (gérée par ui.js) -->
      <p id="gameover-feedback" class="gameover-feedback">
        <!-- Exemple : "Pas mal ! Tu commences à te faire comprendre." -->
      </p>

      <!-- Bloc spécial pour la pub récompensée (continue) -->
      <div id="gameover-rewarded" class="gameover-rewarded" hidden>
        <p>
          Regarder une pub pour reprendre juste avant l&rsquo;obstacle&nbsp;?
        </p>
        <button id="btn-gameover-continue" class="btn btn-primary">
          CONTINUER (PUB)
        </button>
      </div>
    </main>

    <footer class="screen-footer">
      <!-- Redémarrer une nouvelle partie depuis zéro -->
      <button id="btn-gameover-restart" class="btn btn-secondary">
        REJOUER
      </button>
      <!-- Retour au menu principal -->
      <button id="btn-gameover-menu" class="btn btn-secondary">
        MENU
      </button>
    </footer>
  </section>

  <!-- BANDEAU PUBLICITAIRE GLOBAL (AdMob) -->
  <div id="ad-banner-container" aria-hidden="true">
    <!--
      Placeholder pour la bannière de pub.
      ads.js + la couche Android décideront quand / comment l’afficher
      sur les écrans autorisés (menu, options, aide, éventuellement en jeu).
    -->
    <div id="ad-banner"></div>
  </div>

  <!-- Scripts JS (créés dans les étapes suivantes) -->
  <script src="js/config.js"></script>
  <script src="js/game.js"></script>
  <script src="js/voice.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/ads.js"></script>

  <!--
    Plus tard, quand les fonctions d'init existeront, on ajoutera ici :

    <script>
      initConfig();
      initGame();
      initVoice();
      initUI();
    </script>

    Pour l’instant on laisse ce bloc en commentaire pour éviter les erreurs.
  -->
</body>
</html>
